import{r as o,C as d,a as r,j as e,L as v,F as l}from"./index-164b90a9.js";import{N as x}from"./navbar-a022e712.js";import{S as C}from"./sidebar-79dd54a4.js";import{M as w}from"./mininav-e526fb88.js";import{F as y}from"./floatingButton-82a6778e.js";function L({products:a}){const{setActiveCategory:i}=o.useContext(d);return r("div",{className:"col-12 col-sm-9 col-lg-10 p-0",children:[e("div",{className:"m-0 px-2 pb-2 row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2",children:a.map(s=>e("div",{className:"col",children:e(v,{to:`/product/${s._id}`,onClick:()=>i(s.category),children:r("div",{className:"card p-1 border-2 m-0 px-1 h-100 product",children:[e("div",{className:"ratio ratio-1x1",children:e("img",{className:"card-img-top h-100 rounded",src:`https://dinokids.site/resized/${s.image}`})}),r("div",{className:"card-body m-0 mt-1 p-0",children:[e("p",{className:"card-title m-0",children:s.name}),r("h4",{className:"card-text fw-normal m-0",children:["$",s.price]})]})]})})},s._id))}),e("div",{className:""})]})}function E(){const[a,i]=o.useState(!0),[s,m]=o.useState(!0),[c,u]=o.useState([]),[g,f]=o.useState([]),{filters:n}=o.useContext(d),h=t=>t.filter(N=>n.category=="all"||N.category==n.category);o.useEffect(()=>{fetch("https://dinokids.site/categories").then(t=>t.json()).then(t=>{console.log(t),u(t),m(!1)})},[]);const p=h(g);return o.useEffect(()=>{fetch("https://dinokids.site/products").then(t=>t.json()).then(t=>{console.log(t),f(t),i(!1)})},[]),r("div",{className:"App container-fluid p-0 m-0 min-vh-100 d-flex flex-column",children:[r("div",{className:"sticky-top",children:[e(x,{categories:c}),e(w,{categories:c})]}),(()=>!s&&!a?e(l,{children:r("div",{className:"row m-0 flex-grow-1",children:[e(C,{categories:c}),e(L,{products:p})]})}):e(l,{}))(),e(y,{})]})}export{E as default};
